<html>
    <head>
		<!-- 
			테스트
			v1.1.1
				쿠폰 -> 티켓으로 수정
			v1.1
				가디언 포인트 티켓 계산기 추가
			v1.0
				가디언 신본부 추가로 계산기 제작
		-->
        <title>
            가디언 신본부 계산기
		</title>

        <link href="Guardian Tales.css" type="text/css" rel="stylesheet">
    </head>
    <body>
        <script language = "javascript">

            function digit_check(evt){
                var code = evt.which?evt.which:event.keyCode;
                if((48 <= code && code <= 57) || (code == 8) || (96 <= code && code <= 105)){
					//fine
                }
				else{
					return false;
				}
            }

			function compute(){

				n = parseInt(document.getElementById("nowlvl").value);
				nowpoint = parseInt(document.getElementById("nowpoint").value);
				hourpoint = parseInt(document.getElementById("hourpoint").value);
				k = parseInt(document.getElementById("goallevel").value);
				var goalpoint = 700 * ( (n + k - 1) * (k - n) / 2) - nowpoint;
				var goalhour = (700 * ( (n + k - 1) * (k - n) / 2) - nowpoint) / hourpoint;
				var goalday = parseInt(goalhour / 24).toString();
				var remainderhour = Math.ceil((goalhour % 24)).toString();
				c1 = parseInt(document.getElementById("ticket1").value);
				c2 = parseInt(document.getElementById("ticket2").value);
				c3 = parseInt(document.getElementById("ticket3").value);
				c4 = parseInt(document.getElementById("ticket4").value);
				var tickethour = 2 * c1 + 6 * c2 + 12 * c3 + 24 * c4;
				var ticketday = parseInt(tickethour / 24).toString();
				var ticketremainderhour = Math.ceil((tickethour % 24)).toString();
				var ticketpoint = hourpoint * tickethour;
				var tothour = goalhour - tickethour;
				var	totday = parseInt(tothour / 24).toString();
				var totremainerhour = Math.ceil((tothour % 24)).toString();
				if(isNaN(goalhour) || isNaN(goalday)|| isNaN(remainderhour) || goalhour <= 0)
					document.getElementById("Goalday").innerHTML  = "";
				else
					document.getElementById("Goalday").innerHTML  = "필요한 포인트<br>" + (goalpoint) + "포인트<br><hr>"+ "필요한 시간<br>" + (goalday) + "일 " + (remainderhour) + "시간<br><hr>" + "티켓 사용후 필요한 시간<br>" + (totday) + "일 " + (totremainerhour) + "시간";
				if(isNaN(tickethour) || isNaN(ticketday)|| isNaN(ticketremainderhour) || tickethour <= 0)
					document.getElementById("ticketday").innerHTML  = "";
				else
					document.getElementById("ticketday").innerHTML  = "티켓사용시 회득 포인트<br>" + (ticketpoint) + "포인트<br><hr>"+ "티켓으로 단축되는 시간<br>" + (ticketday) + "일 " + (ticketremainderhour) + "시간";
			}
		</script>

		<table style="margin: auto;" border="0px">
			<tr style="vertical-align: top;">
				<td>
					<div>
						<form>
							<p>현재 가디언 레벨</p>
							<input id="nowlvl" type="number" onkeydown ="return digit_check(event)" onkeyup="compute()" onfocus="this.select()">
							<hr>
							<p>현재 모인 포인트</p>
							<input id="nowpoint" type = "number" onkeydown="return digit_check(event)" onkeyup="compute()" value="0" onfocus="this.select()">
							<hr>
							<p>시간당 파티 총 생산량</p>
							<input id="hourpoint" type = "number" onkeydown="return digit_check(event)" onkeyup="compute()" onfocus="this.select()">
							<hr>
							<p>목표 가디언 레벨</p>
							<input id="goallevel" type = "number" onkeydown="return digit_check(event)" onkeyup="compute()" onfocus="this.select()">
							<hr>
							
							<button class="button button5" type="reset">초기화</button>
							<button class="button button5" type="button" onClick = "compute()">계산</button>
						</form>
					</div>
					<br>
					<div>
						<p id="Goalday" style="text-indent: 0; margin: 10px;"></p>
					</div>
				</td>
				<td>
					<div>
						<form>
							<p>[2시간] 가디언 포인트 티켓</p>
							<input id="ticket1" type="number" onkeydown ="return digit_check(event)" onkeyup="compute()" value='0' onfocus="this.select()">
							<hr>
							<p>[6시간] 가디언 포인트 티켓</p>
							<input id="ticket2" type = "number" onkeydown="return digit_check(event)" onkeyup="compute()" value='0' onfocus="this.select()"> 
							<hr>
							<p>[12시간] 가디언 포인트 티켓</p>
							<input id="ticket3" type = "number" onkeydown="return digit_check(event)" onkeyup="compute()" value='0' onfocus="this.select()">
							<hr>
							<p>[24시간] 가디언 포인트 티켓</p>
							<input id="ticket4" type = "number" onkeydown="return digit_check(event)" onkeyup="compute()" value='0' onfocus="this.select()">
							<hr>
							
							<button class="button button5" type="reset">초기화</button>
							<button class="button button5" type="button" onClick = "compute()">계산</button>
						</form>
					</div>
					<br>
					<div>
						<p id="ticketday" style="text-indent: 0; margin: 10px;"></p>
					</div>
				</td>
			</tr>
		</table>
    </body>
</html>
